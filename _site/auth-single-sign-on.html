<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Documentation</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h2>Technical Documentation</h2>
        <br />
        <h3>Authentication</h3>
        <a href="auth-single-sign-on.html">Single Sign-On with SAML</a>
      </header>
      <section><h3 id="single-sign-on-sso-with-saml">Single Sign-On (SSO) with SAML</h3>

<p>Security Assertion Markup Language (SAML) is an XML standard that allows secure web domains to exchange user authentication and authorization data. Using SAML, an online service provider can contact a separate online identity provider to authenticate users who are trying to access secure content.</p>

<p>FULL FABRIC offers a SAML-based Single Sign-On (SSO) service that provides universities and other institutions with full control over the authorization of user accounts that can access FULL FABRIC. Using the SAML model, FULL FABRIC acts as the <em>service provider</em>, whereas clients act as the <em>identity provider</em>. Identity providers control usernames, passwords and other information used to identify and authenticate users.</p>

<p>The FULL FABRIC SSO service is based on the SAML specifications. SAML v2.0 is supported by several widely known vendors.</p>

<h4 id="saml-based-sso-with-full-fabric">SAML-based SSO with FULL FABRIC</h4>

<p>The following process explains how a user logs into FULL FABRIC via a SAML-based SSO service.</p>

<h5 id="actors">Actors</h5>

<ul>
  <li>IdP - Identity Provider: The university, school or institution</li>
  <li>SP - Service Provider: FULL FABRIC</li>
  <li>User</li>
</ul>

<h5 id="setup">Setup</h5>

<p>The IdP must provide FULL FABRIC with:</p>

<ul>
  <li>the URL for its SSO service</li>
  <li>
    <p>the public key used to verify authenticity of SAML responses</p>
  </li>
  <li>SP initiation endpoint: <code>https://*.fullfabric.com/auth/saml</code></li>
  <li>SP callback endpoint: <code>https://*.fullfabric.com/auth/saml/callback</code></li>
</ul>

<h5 id="flow">Flow</h5>

<ol>
  <li>The User attempts to reach the SP</li>
  <li>SP generates a SAML authentication request</li>
  <li>SP sends a redirect to the User’s browser for the IdP’s SSO target endpoint. The redirect URL includes the encoded SAML authentication request that should be submitted to the IdP’s SSO service</li>
  <li>IdP decodes the SAML request and authenticates the User either by asking for valid login credentials or by checking for valid session cookies</li>
  <li>IdP generates a SAML response that contains the authenticated User’s details. In accordance with the SAML 2.0 specification, this response is digitally signed with the IdP’s public and private DSA/RSA keys.</li>
  <li>The partner encodes the SAML response and returns that information to the User’s browser. The IdP provides a mechanism so that the browser can forward that information to the SP.</li>
  <li>SP verifies the SAML response using the IdP’s public key. If the response is successfully verified, the SP authenticates the User. If the User does not exist, it is created based on the details provided by the IdP.</li>
</ol>

<h5 id="use-case">Use Case</h5>

<p><a href="http://en.wikipedia.org/wiki/SAML_2.0#Web_Browser_SSO_Profile">http://en.wikipedia.org/wiki/SAML_2.0#Web_Browser_SSO_Profile</a></p>
</section>
      <footer></footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
  </body>
</html>